{"ast":null,"code":"import { Action } from \"../../internal/Action.js\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue.js\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier.js\";\n/**\n * @description A class that defines how to recolor objects in an asset using Generative AI\n * @extends SDK.Action\n * @memberOf Actions.Effect\n * @see Visit {@link Actions.Effect|Effect} for an example\n */\nclass GenerativeRecolor extends Action {\n  constructor(prompts, color) {\n    super();\n    this._prompts = [];\n    this._detectMultiple = false;\n    // Alias method to be backwards compatible\n    this.multiple = this.detectMultiple.bind(this);\n    this._prompts = Array.isArray(prompts) ? prompts : [prompts];\n    this._toColor = color;\n    this._actionModel.actionType = \"generativeRecolor\";\n    this._actionModel.prompts = this._prompts;\n    this._actionModel.toColor = this._toColor;\n  }\n  detectMultiple() {\n    let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    this._detectMultiple = value;\n    if (this._detectMultiple) {\n      this._actionModel.detectMultiple = this._detectMultiple;\n    }\n    return this;\n  }\n  prepareQualifiers() {\n    const qualifierValue = new QualifierValue().setDelimiter(\";\");\n    if (this._prompts.length) {\n      qualifierValue.addValue(this.preparePromptValue());\n    }\n    if (this._toColor) {\n      const formattedColor = this._toColor.match(/^#/) ? this._toColor.substr(1) : this._toColor;\n      qualifierValue.addValue(`to-color_${formattedColor}`);\n    }\n    if (this._detectMultiple) {\n      qualifierValue.addValue(\"multiple_true\");\n    }\n    this.addQualifier(new Qualifier(\"e\", `gen_recolor:${qualifierValue.toString()}`));\n  }\n  preparePromptValue() {\n    const prompts = this._prompts;\n    const qualifierValue = new QualifierValue().setDelimiter(\";\");\n    if (prompts.length === 1) {\n      qualifierValue.addValue(`prompt_${prompts[0]}`);\n    } else {\n      qualifierValue.addValue(`prompt_(${prompts.join(\";\")})`);\n    }\n    return qualifierValue;\n  }\n  static fromJson(actionModel) {\n    const {\n      prompts,\n      detectMultiple,\n      toColor\n    } = actionModel;\n    const result = new this(prompts, toColor);\n    if (detectMultiple) {\n      result.detectMultiple(detectMultiple);\n    }\n    return result;\n  }\n}\nexport { GenerativeRecolor };","map":{"version":3,"names":["Action","QualifierValue","Qualifier","GenerativeRecolor","constructor","prompts","color","_prompts","_detectMultiple","multiple","detectMultiple","bind","Array","isArray","_toColor","_actionModel","actionType","toColor","value","arguments","length","undefined","prepareQualifiers","qualifierValue","setDelimiter","addValue","preparePromptValue","formattedColor","match","substr","addQualifier","toString","join","fromJson","actionModel","result"],"sources":["/Users/aniket/Desktop/chat-app-master/Chat App/client/node_modules/@cloudinary/transformation-builder-sdk/actions/effect/GenerativeRecolor.js"],"sourcesContent":["import { Action } from \"../../internal/Action.js\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue.js\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier.js\";\n/**\n * @description A class that defines how to recolor objects in an asset using Generative AI\n * @extends SDK.Action\n * @memberOf Actions.Effect\n * @see Visit {@link Actions.Effect|Effect} for an example\n */\nclass GenerativeRecolor extends Action {\n    constructor(prompts, color) {\n        super();\n        this._prompts = [];\n        this._detectMultiple = false;\n        // Alias method to be backwards compatible\n        this.multiple = this.detectMultiple.bind(this);\n        this._prompts = Array.isArray(prompts) ? prompts : [prompts];\n        this._toColor = color;\n        this._actionModel.actionType = \"generativeRecolor\";\n        this._actionModel.prompts = this._prompts;\n        this._actionModel.toColor = this._toColor;\n    }\n    detectMultiple(value = true) {\n        this._detectMultiple = value;\n        if (this._detectMultiple) {\n            this._actionModel.detectMultiple = this._detectMultiple;\n        }\n        return this;\n    }\n    prepareQualifiers() {\n        const qualifierValue = new QualifierValue().setDelimiter(\";\");\n        if (this._prompts.length) {\n            qualifierValue.addValue(this.preparePromptValue());\n        }\n        if (this._toColor) {\n            const formattedColor = this._toColor.match(/^#/)\n                ? this._toColor.substr(1)\n                : this._toColor;\n            qualifierValue.addValue(`to-color_${formattedColor}`);\n        }\n        if (this._detectMultiple) {\n            qualifierValue.addValue(\"multiple_true\");\n        }\n        this.addQualifier(new Qualifier(\"e\", `gen_recolor:${qualifierValue.toString()}`));\n    }\n    preparePromptValue() {\n        const prompts = this._prompts;\n        const qualifierValue = new QualifierValue().setDelimiter(\";\");\n        if (prompts.length === 1) {\n            qualifierValue.addValue(`prompt_${prompts[0]}`);\n        }\n        else {\n            qualifierValue.addValue(`prompt_(${prompts.join(\";\")})`);\n        }\n        return qualifierValue;\n    }\n    static fromJson(actionModel) {\n        const { prompts, detectMultiple, toColor } = actionModel;\n        const result = new this(prompts, toColor);\n        if (detectMultiple) {\n            result.detectMultiple(detectMultiple);\n        }\n        return result;\n    }\n}\nexport { GenerativeRecolor };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}