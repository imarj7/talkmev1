{"ast":null,"code":"import React from\"react\";import{Routes,Route,Navigate}from'react-router-dom';import'react-toastify/dist/ReactToastify.css';import Dashboard from'./modules/Dashboard';import Form from'./modules/Form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProtectedRoute=function ProtectedRoute(_ref){var children=_ref.children,_ref$auth=_ref.auth,auth=_ref$auth===void 0?false:_ref$auth;var isLoggedIn=!!localStorage.getItem('user:token');// Check if token exists and is valid\nif(!isLoggedIn&&auth){return/*#__PURE__*/_jsx(Navigate,{to:\"/users/sign_in\"});}else if(isLoggedIn&&['/users/sign_in','/users/sign_up'].includes(window.location.pathname)){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return children;};function App(){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{auth:true,children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/users/sign_in\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Form,{isSignInPage:true})})}),/*#__PURE__*/_jsx(Route,{path:\"/users/sign_up\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Form,{isSignInPage:false})})})]});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","Dashboard","Form","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","_ref$auth","auth","isLoggedIn","localStorage","getItem","to","includes","window","location","pathname","App","path","element","isSignInPage"],"sources":["/Users/aniket/Documents/GitHub/chatappv1/client/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Dashboard from './modules/Dashboard';\nimport Form from './modules/Form';\n\nconst ProtectedRoute = ({ children, auth = false }) => {\n  const isLoggedIn = !!localStorage.getItem('user:token'); // Check if token exists and is valid\n\n  if (!isLoggedIn && auth) {\n    return <Navigate to='/users/sign_in' />;\n  } else if (isLoggedIn && ['/users/sign_in', '/users/sign_up'].includes(window.location.pathname)) {\n    return <Navigate to='/' />;\n  }\n\n  return children;\n};\n\nfunction App() {\n  return (\n    <Routes>\n      <Route path='/' element={\n        <ProtectedRoute auth={true}>\n          <Dashboard />\n        </ProtectedRoute>\n      } />\n      <Route path='/users/sign_in' element={\n        <ProtectedRoute>\n          <Form isSignInPage={true} />\n        </ProtectedRoute>\n      } />\n      <Route path='/users/sign_up' element={\n        <ProtectedRoute>\n          <Form isSignInPage={false} />\n        </ProtectedRoute>\n      } />\n    </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAC1D,MAAO,uCAAuC,CAC9C,MAAO,CAAAC,SAAS,KAAM,qBAAqB,CAC3C,MAAO,CAAAC,IAAI,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,IAAA,CAAmC,IAA7B,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAAC,SAAA,CAAAF,IAAA,CAAEG,IAAI,CAAJA,IAAI,CAAAD,SAAA,UAAG,KAAK,CAAAA,SAAA,CAC9C,GAAM,CAAAE,UAAU,CAAG,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAE;AAEzD,GAAI,CAACF,UAAU,EAAID,IAAI,CAAE,CACvB,mBAAOP,IAAA,CAACJ,QAAQ,EAACe,EAAE,CAAC,gBAAgB,EAAG,CACzC,CAAC,IAAM,IAAIH,UAAU,EAAI,CAAC,gBAAgB,CAAE,gBAAgB,CAAC,CAACI,QAAQ,CAACC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAE,CAChG,mBAAOf,IAAA,CAACJ,QAAQ,EAACe,EAAE,CAAC,GAAG,EAAG,CAC5B,CAEA,MAAO,CAAAN,QAAQ,CACjB,CAAC,CAED,QAAS,CAAAW,GAAGA,CAAA,CAAG,CACb,mBACEd,KAAA,CAACR,MAAM,EAAAW,QAAA,eACLL,IAAA,CAACL,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,OAAO,cACrBlB,IAAA,CAACG,cAAc,EAACI,IAAI,CAAE,IAAK,CAAAF,QAAA,cACzBL,IAAA,CAACH,SAAS,IAAG,EAEhB,EAAG,cACJG,IAAA,CAACL,KAAK,EAACsB,IAAI,CAAC,gBAAgB,CAACC,OAAO,cAClClB,IAAA,CAACG,cAAc,EAAAE,QAAA,cACbL,IAAA,CAACF,IAAI,EAACqB,YAAY,CAAE,IAAK,EAAG,EAE/B,EAAG,cACJnB,IAAA,CAACL,KAAK,EAACsB,IAAI,CAAC,gBAAgB,CAACC,OAAO,cAClClB,IAAA,CAACG,cAAc,EAAAE,QAAA,cACbL,IAAA,CAACF,IAAI,EAACqB,YAAY,CAAE,KAAM,EAAG,EAEhC,EAAG,GACG,CAEb,CAEA,cAAe,CAAAH,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}